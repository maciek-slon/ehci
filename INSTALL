Installation instructions for EHCI 0.4
--------------------------------------

In order to install the library, go to the directory in which you've copied the ehci-0.4.tar.gz and issue the following commands:

  % tar xvfz ehci-0.4.tar.gz
  % cd ehci-0.4             
  % ./configure             
  % make      
Now, log as super user, go to the ehci-0.4 directory and run              
  % make install            

This is the explanation of the commands:

  % tar xvfz ehci-0.4.tar.gz   # unpack the sources
  % cd ehci-0.4                # change to the toplevel directory
  % ./configure                # run the `configure' script
  % make                       # build EHCI
  % make install               # install EHCI


As the OPENCV library is required for you to install EHCI, you might get this error while running ./configure:

"checking for OPENCV... configure: error: Package requirements (opencv >= 1.1.0) were not met:

No package 'opencv' found

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix."

This means you don't have opencv 1.1.0 or higher installed in your machine. Refer to the topic 'Installing OpenCV from CVS', below. You might as well receive the following error:

"checking for OPENCV... configure: error: Package requirements (opencv >= 1.1.0) were not met:

Requested 'opencv >= 1.1.0' but version of OpenCV is 1.0.0

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix.

Alternatively, you may set the environment variables OPENCV_CFLAGS
and OPENCV_LIBS to avoid the need to call pkg-config.
See the pkg-config man page for more details."


This means you have OpenCV installed, but your version is 1.0.0. This might be the case when you install it from the sourceforge downloadable package, opposed to checking it out from the cvs. In case you've received this error, look for the topic 'Installing OpenCV from CVS' below.


Running samples
---------------

In case there weren't errors, you should be able to go to the directory /usr/local/share/ehci/samples and run the samples that come with the library. In order to run the 6 degrees of freedom sample do the following:

  % cd /usr/local/share/ehci/samples
  % ./6dofhead

This should run the 6dofhead demonstration sample (it will track translation and rotation of your head, you should be looking toward your webcam in order for it to start). In case it won't run, you might get the following error message:

./6dofhead: error while loading shared libraries: libehci.so.0: cannot open shared object file: No such file or directory

This means that your system cannot load the library because it is not in the default places it is looking for (usually /usr/lib), but you might check that your library, libehci.so is located at /usr/local/lib/libehci.so . The easy fix, is to tell your system about it through the following command:

  % export LD_LIBRARY_PATH=/usr/local/lib

And then, try and run the program again through:

  % ./6dofhead

This will most probably work, but the best way to tell your system about this new library is adding it to the /etc/ld.so.conf file. In order to do this, as a super user, edit the file /etc/ld.so.conf and add this line to it:

  /usr/local/lib/

And then run, as super user, run:
  
  %  /sbin/ldconfig

This will add the library to the cache and you won't need to alter the environment library LD_LIBRARY_PATH again.

Instructions for building EHCI from SVN
---------------------------------------

Just type:

  %  autoreconf --install 

in the root of the trunk subfolder. It will generate the configure file.





Installing OpenCV from CVS
--------------------------

OpenCV library is available from sourceforge repositories, at http://sourceforge.net/projects/opencvlibrary/ . When this install file was written, there was no package from version 1.1 available for download. So the best way to get it, is through a CVS checkout. 
In order to do so, issue the following commands (you need to have cvs installed in your machine):

  %  cvs -d:pserver:anonymous@opencvlibrary.cvs.sourceforge.net:/cvsroot/opencvlibrary login

When asked for a password, simply press enter. And then:
 
  %  cvs -z3 -d:pserver:anonymous@opencvlibrary.cvs.sourceforge.net:/cvsroot/opencvlibrary co -P opencv

This will checkout files from the very last development version. In order to build and install opencv, you should look for the file opencv/INSTALL, but, in case you have the required libraries:

   + GTK+ 2.x or higher including headers

   + pkgconfig

   + libpng, zlib, libjpeg, libtiff, libjasper with development files.

   + Python 2.3, 2.4 or 2.5 with headers installed (developer package)

   + libavcodec, etc. from ffmpeg 0.4.9-pre1 or later + headers.
     Earlier versions do not work with OpenCV because of different API.
     libavcodec is LGPL software, so to use it with non-GPL software (such as OpenCV)
     you need to build and use a _shared_ library libavcodec.so.*:
        get ffmpeg from ffmpeg.sourceforge.net
        ./configure --enable-shared
        make
        make install
        you will have got: /usr/local/lib/libavcodec.so.*
                           /usr/local/lib/libavformat.so.*
                          (/usr/local/lib/libavutil.so.* for newer versions)
                           /usr/local/include/ffmpeg/*.h

  You can build it with a simple:

  %  ./configure
  %  make
As super user:
  %  make install  
  %  /sbin/ldconfig

And then, watch out for this installation note: 
"default installation path is /usr/local/lib and /usr/local/include/opencv,
 so you need to add /usr/local/lib to /etc/ld.so.conf (and run ldconfig after)
 or add it to LD_LIBRARY_PATH environment variable"

